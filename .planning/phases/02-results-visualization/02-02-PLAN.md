---
phase: 02-results-visualization
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [components/SavingsCharts.tsx, package.json, app/page.tsx]
autonomous: true

must_haves:
  truths:
    - "User can see total savings trend chart over 12 months"
    - "User can see percentage reduction chart over time"
    - "User can see month-over-month savings progression"
  artifacts:
    - path: "components/SavingsCharts.tsx"
      provides: "Professional chart visualizations"
      min_lines: 80
      contains: "recharts"
    - path: "package.json"
      provides: "Recharts dependency"
      contains: "recharts"
  key_links:
    - from: "SavingsCharts.tsx"
      to: "recharts library"
      via: "imports Line/Bar/Area charts"
      pattern: "from 'recharts'"
    - from: "app/page.tsx"
      to: "SavingsCharts.tsx"
      via: "renders with projections data"
      pattern: "<SavingsCharts"
---

<objective>
Add professional chart visualizations using Recharts library.

Purpose: Provide visual, compelling representation of savings trends for client presentations and decision-making.
Output: Three interactive charts showing savings trends, percentage reduction, and month-over-month progression.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md

Existing projections logic:
@lib/calculations/projections.ts (created in Plan 01)

Current page structure:
@app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install and configure Recharts</name>
  <files>package.json</files>
  <action>
    Install Recharts:
    - Run: npm install recharts
    - Recharts is React-native charting library with excellent TypeScript support
    - Works well with Next.js App Router and Tailwind CSS
    - No additional configuration needed
  </action>
  <verify>
    - package.json contains "recharts" dependency
    - npm install completes without errors
    - TypeScript recognizes recharts types
  </verify>
  <done>Recharts installed and ready to use</done>
</task>

<task type="auto">
  <name>Task 2: Create charts component with three visualizations</name>
  <files>components/SavingsCharts.tsx, app/page.tsx</files>
  <action>
    Create SavingsCharts component:
    - Accept savingsData prop (SavingsResult)
    - Call calculateMonthlyProjections(savingsData) to get 12-month data
    - Import from recharts: LineChart, BarChart, AreaChart, Line, Bar, Area, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer

    Implement 3 charts in a grid layout (grid-cols-1 md:grid-cols-3):

    1. **Total Savings Trend (AreaChart)**:
       - X-axis: Month (1-12)
       - Y-axis: Cumulative Savings (COP)
       - Fill gradient from green-200 to green-600
       - Tooltip shows month and cumulative amount

    2. **Percentage Reduction (LineChart)**:
       - X-axis: Month (1-12)
       - Y-axis: Percentage reduction (constant across months)
       - Line color: blue-600
       - Shows how percentage stays consistent

    3. **Monthly Savings (BarChart)**:
       - X-axis: Month (1-12)
       - Y-axis: Monthly Savings (COP)
       - Bar color: green-600
       - Tooltip shows month and monthly amount

    Use ResponsiveContainer for each chart (width="100%" height={300})
    Format Y-axis values as "$ X.XM" for millions
    Add section header: "An√°lisis Visual de Ahorros"

    Add to app/page.tsx after ProjectionTable component.
  </action>
  <verify>
    - npm run build succeeds
    - All 3 charts render correctly
    - Charts are responsive (resize with window)
    - Tooltips work on hover
    - Values format correctly
    - No console errors
  </verify>
  <done>Three professional charts rendering with real data</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds
- [ ] All 3 charts visible and interactive
- [ ] Charts display correct data from projections
- [ ] Responsive layout works on mobile
- [ ] Tooltips show formatted values
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- VIZ-09, VIZ-10, VIZ-11 requirements satisfied
- Charts integrate into existing page flow
- Professional appearance suitable for B2B presentations
- No errors or warnings introduced
</success_criteria>

<output>
After completion, create `.planning/phases/02-results-visualization/02-02-SUMMARY.md`
</output>
